# design
#:include design/login/login_screen_design.kv

# dialogs
#:include design/login/dialogs/off_num_change_dialog.kv
#:include design/login/dialogs/info_dialog.kv

<LoginScreen>:
	name: 'loginScreen'
	offNumTextFieldObj: offNumTextFieldId
	loginButtonObj: loginButtonId
	updateButtonObj: updateButtonId
	logsSheetObj: logsSheetId
	
    MDFloatLayout:
		md_bg_color: app.theme_cls.primary_dark
		
		MDIconButton:
			icon: 'cog-outline'
			pos_hint: {"x":0, "top": 1}
			on_release: root.showConfigButton()
		
		MDIconButton:
			icon: 'list-box-outline'
			pos_hint: {"x":0, "top": 0.95}
			on_release: root.showLogsButton()
			
        LoginScreenLabel:
			id: offNumLabelId
			pos_hint: {"x":0.1, "top":0.9}
            size_hint: 0.8, 0.1
            text: "Sluzbeni broj: "
			
        LoginScreenTextField:
			id: offNumTextFieldId
			pos_hint: {"x": 0.3, "top": 0.8}
			size_hint_x: 0.4
            text: root.offNum

		MDIconButton:
			icon: 'pencil-outline'
			pos_hint: {"x": 0.7, "top": 0.78}
			on_release: root.changeDefaultOffNum()
			
		LoginScreenLabel:
			id: warningMessageLabelId
			pos_hint: {"x":0.1, "top":0.6}
            size_hint: 0.8, 0.4
            text: root.warningMessage
			color: root.warningMessageColor

        LoginScreenButton:
			id: loginButtonId
            pos_hint:{"x":0.09,'bottom': 1}
			size_hint: 0.4, 0.1
            text: 'Prijavi se'
            on_release: root.loginButton()
					
		LoginScreenButton:
			id: updateButtonId
            pos_hint:{"x":0.51,'bottom': 1}
			size_hint: 0.4, 0.1
            text: 'Azuriraj'
            on_release: root.updateButton()
			
		MDIconButton:
			icon: 'plus-box-outline'
			pos_hint: {"x":0, "top": 0.11}
			on_release: root.increaseFontSize()
			
		MDIconButton:
			icon: 'minus-box-outline'
			pos_hint: {"x":0, 'y': 0}
			on_release: root.decreaseFontSize()

    MDBottomSheet:
        id: logsSheetId
        bg_color: app.theme_cls.primary_color
        #max_opening_height: self.height
        #height: "600dp"
        #size_hint_y: None
        #default_opening_height: self.max_opening_height
        adaptive_height: True
        content: sheetLabelId

        MDBottomSheetContent:
            #size_hint_y: None
            height: "600dp"
            #adaptive_height: True

            ScrollView:
                size_hint: 1,1
                MDBoxLayout:
                    adaptive_height: True

                    MDLabel:
                        id: sheetLabelId
                        #text: "Logovi \n"
                        text: root.logs
                        font_size: app.logsFontSize
                        size_hint_y: None
                        height: self.texture_size[1]
                        adaptive_height: True

    #LoginScreenBottomSheet:
    #    id: logsSheetId
    #    #size_hint_y: 0.5
